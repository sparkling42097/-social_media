<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loginpage</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/login.css">
</head>

<body>
    <div class="container">
        <!-- Left side - Image Section -->
        <div class="image-section" style="position: relative;">
            <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 600" style="width: 100%; height: 100%; max-width: 100%; object-fit: contain;">
                    <!-- 背景 -->
                    <rect width="600" height="600" fill="#1e1e1e"/>
                    
                    <!-- 頂部狀態欄 -->
                    <rect width="600" height="50" fill="#2a2a2a"/>
                    <path d="M30,23 v-3 q0,-3 3,-3 h14 q3,0 3,3 v8 q0,3 -3,3 h-2 l-2,2 l-2,-2 h-8 q-3,0 -3,-3 v-5" 
                          fill="#ffffff" 
                          stroke="#ffffff" 
                          stroke-width="0.5"/>
                    
                    <!-- 對話氣泡群組 -->
                    <g>
                        <!-- 控制整體淡出的動畫 -->
                        <animate attributeName="opacity"
                            values="1;1;1;0;0;1"
                            dur="15s"
                            keyTimes="0;0.7;0.8;0.9;0.95;1"
                            begin="0s"
                            repeatCount="indefinite"/>
                        
                        <!-- 右側對話(自己) -->
                        <g opacity="0">
                            <animateTransform attributeName="transform"
                                type="translate"
                                values="20,0; 0,0"
                                dur="0.3s"
                                begin="0s;15s"
                                fill="freeze"/>
                            <animate attributeName="opacity"
                                values="0;1"
                                dur="0.3s"
                                begin="0s;15s"
                                fill="freeze"/>
                            <!-- 添加重置動畫 -->
                            <animate attributeName="opacity"
                                values="1;0"
                                dur="0.3s"
                                begin="12s;27s"
                                fill="freeze"/>
                            <rect x="150" y="70" width="420" height="45" rx="10" fill="#17b978"/>
                            <text x="170" y="98" fill="#ffffff" font-family="Noto Sans TC, serif" font-size="16">
                                阿明！今天晚上要不要去吃那家新開的滷肉飯？
                            </text>
                        </g>
                        
                        <!-- 左側對話(對方) -->
                        <g opacity="0">
                            <animateTransform attributeName="transform"
                                type="translate"
                                values="-20,0; 0,0"
                                dur="0.3s"
                                begin="1s;16s"
                                fill="freeze"/>
                            <animate attributeName="opacity"
                                values="0;1"
                                dur="0.3s"
                                begin="1s;16s"
                                fill="freeze"/>
                            <!-- 添加重置動畫 -->
                            <animate attributeName="opacity"
                                values="1;0"
                                dur="0.3s"
                                begin="12s;27s"
                                fill="freeze"/>
                            <rect x="30" y="130" width="350" height="45" rx="10" fill="#363636"/>
                            <text x="50" y="158" fill="#ffffff" font-family="Noto Sans TC, serif" font-size="16">
                                好啊！聽說那邊的魯肉飯很有名
                            </text>
                        </g>
                        
                        <!-- 其他對話氣泡以相同方式添加重置動畫... -->
                        <g opacity="0">
                            <animateTransform attributeName="transform"
                                type="translate"
                                values="20,0; 0,0"
                                dur="0.3s"
                                begin="2s;17s"
                                fill="freeze"/>
                            <animate attributeName="opacity"
                                values="0;1"
                                dur="0.3s"
                                begin="2s;17s"
                                fill="freeze"/>
                            <animate attributeName="opacity"
                                values="1;0"
                                dur="0.3s"
                                begin="12s;27s"
                                fill="freeze"/>
                            <rect x="200" y="190" width="370" height="45" rx="10" fill="#17b978"/>
                            <text x="220" y="218" fill="#ffffff" font-family="Noto Sans TC, serif" font-size="16">
                                對啊！而且他們家的滷蛋也超讚的
                            </text>
                        </g>
        
                        <g opacity="0">
                            <animateTransform attributeName="transform"
                                type="translate"
                                values="-20,0; 0,0"
                                dur="0.3s"
                                begin="3s;18s"
                                fill="freeze"/>
                            <animate attributeName="opacity"
                                values="0;1"
                                dur="0.3s"
                                begin="3s;18s"
                                fill="freeze"/>
                            <animate attributeName="opacity"
                                values="1;0"
                                dur="0.3s"
                                begin="12s;27s"
                                fill="freeze"/>
                            <rect x="30" y="250" width="370" height="45" rx="10" fill="#363636"/>
                            <text x="50" y="278" fill="#ffffff" font-family="Noto Sans TC, serif" font-size="16">
                                那我們6點下班後在公司樓下碰面吧
                            </text>
                        </g>
        
                        <g opacity="0">
                            <animateTransform attributeName="transform"
                                type="translate"
                                values="20,0; 0,0"
                                dur="0.3s"
                                begin="4s;19s"
                                fill="freeze"/>
                            <animate attributeName="opacity"
                                values="0;1"
                                dur="0.3s"
                                begin="4s;19s"
                                fill="freeze"/>
                            <animate attributeName="opacity"
                                values="1;0"
                                dur="0.3s"
                                begin="12s;27s"
                                fill="freeze"/>
                            <rect x="250" y="310" width="320" height="45" rx="10" fill="#17b978"/>
                            <text x="270" y="338" fill="#ffffff" font-family="Noto Sans TC, serif" font-size="16">
                                好，等等見！我請客
                            </text>
                        </g>
        
                        <g opacity="0">
                            <animateTransform attributeName="transform"
                                type="translate"
                                values="-20,0; 0,0"
                                dur="0.3s"
                                begin="5s;20s"
                                fill="freeze"/>
                            <animate attributeName="opacity"
                                values="0;1"
                                dur="0.3s"
                                begin="5s;20s"
                                fill="freeze"/>
                            <animate attributeName="opacity"
                                values="1;0"
                                dur="0.3s"
                                begin="12s;27s"
                                fill="freeze"/>
                            <rect x="30" y="370" width="320" height="45" rx="10" fill="#363636"/>
                            <text x="50" y="398" fill="#ffffff" font-family="Noto Sans TC, serif" font-size="16">
                                欸不用啦，一起分擔比較好
                            </text>
                        </g>
        
                        <g opacity="0">
                            <animateTransform attributeName="transform"
                                type="translate"
                                values="20,0; 0,0"
                                dur="0.3s"
                                begin="6s;21s"
                                fill="freeze"/>
                            <animate attributeName="opacity"
                                values="0;1"
                                dur="0.3s"
                                begin="6s;21s"
                                fill="freeze"/>
                            <animate attributeName="opacity"
                                values="1;0"
                                dur="0.3s"
                                begin="12s;27s"
                                fill="freeze"/>
                            <rect x="200" y="430" width="370" height="45" rx="10" fill="#17b978"/>
                            <text x="220" y="458" fill="#ffffff" font-family="Noto Sans TC, serif" font-size="16">
                                沒事啦！就當慶祝你上週升職啦！
                            </text>
                        </g>
        
                        <g opacity="0">
                            <animateTransform attributeName="transform"
                                type="translate"
                                values="-20,0; 0,0"
                                dur="0.3s"
                                begin="7s;22s"
                                fill="freeze"/>
                            <animate attributeName="opacity"
                                values="0;1"
                                dur="0.3s"
                                begin="7s;22s"
                                fill="freeze"/>
                            <animate attributeName="opacity"
                                values="1;0"
                                dur="0.3s"
                                begin="12s;27s"
                                fill="freeze"/>
                            <rect x="30" y="490" width="280" height="45" rx="10" fill="#363636"/>
                            <text x="50" y="518" fill="#ffffff" font-family="Noto Sans TC, serif" font-size="16">
                                謝啦！那就恭敬不如從命
                            </text>
                        </g>
                    </g>
                </svg>
            </div>
        </div>

        <!-- Right side - Login Form -->
        <div class="login-section">
            <h1>Interflows</h1>

            <div class="error-message">
                <h3 th:if="${error != null}" th:text="${error}"></h3>
            </div>

            <form th:action="@{/login}" th:object="${member}" method="post">
                <div class="form-floating">
                    <input name="account" type="email" class="form-control" placeholder="輸入帳號" th:field="*{email}" />
                </div>

                <div class="form-floating">
                    <input name="password" type="password" class="form-control" id="floatingPassword" placeholder="輸入密碼"
                        th:field="*{password}" />
                    <i id="checkEye" class="fas fa-eye"></i>
                </div>

                <button class="btn" type="submit">登入</button>
            </form>

            <div class="btn-group">
                <button onclick="location.href='/registerpage'" class="btn btn-primary">註冊</button>
                <button onclick="location.href='/forgotPassword'" class="btn btn-primary">忘記密碼</button>
            </div>

            <hr>

            <div class="social-icons">
                <button>
                    <i class="fab fa-facebook-f"></i>
                </button>
                <a href="/oauth2/authorization/google">
                    <button>
                        <i class="fab fa-google"></i>
                    </button>
                </a>
                <button>
                    <i class="fab fa-twitter"></i>
                </button>
            </div>
        </div>
    </div>
    <script src="/js/PasswordEye.js"></script>
</body>

</html>
